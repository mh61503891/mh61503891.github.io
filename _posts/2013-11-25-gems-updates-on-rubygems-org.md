---
layout: post
title: "RubyGemsの1日ごとのアップデート数を調べてみた。"
description: "RubyGemsの1日ごとのアップデート数を調べてみた。"
category:
image: "/images/2013-11-25-gems-updates-on-rubygems-org.png"
tags: [Ruby,RubyGems]
---
{% include JB/setup %}

先日、島根県松江市で開催された[RubyWorld Conference 2013](http://www.rubyworld-conf.org/ja/)に行ってきました。Rubyを通して2日間でのべ901名の産官学の方々が来場するイベントです。

Rubyの開発者まつもとゆきひろ氏は基調講演の中で「オープンソースコミュニティはサメ。泳ぎ続けなければ生きていけない。」という話をされておりました。最近ではオープンソース界だけでなく産業界や学界でも同じスタンスの方々が多いようです。サンマ、生物、自転車など、微妙なニュアンスの違いはあるようです。にわか仙人には耳の痛い話かも知れません。

さて、そんなことを思いながら「ではRubyは具体的にどれくらい健康なのだろう？」と疑問が出てくるわけでして、そういえば、最近ではRubyで作られたソフトウェアの多くがRubyGemsに登録されているので、RubyGemsの日々のアップデート数を調べれば、Rubyの健康状態が分かるはず、などと思いつつ講演を聞きながらスクリプトを書いてプロットしたのがこれです。


<div class="thumbnail">
  <img src="/images/2013-11-25-gems-updates-on-rubygems-org.png" width="480" height="320" alt="Gems' Updates on RubyGems.org"/>
</div>


にわかに信じがたいのですが、ここ最近では300個くらいものgemが毎日アップデートされていることが分かりました。2009年の下旬に急に増えているのはGemCutterやRubyForgeから統合された影響と思われますが、アップデート数は増加傾向にあり、かなり健康状態は良いものと思われます。

また、注意点として以下のことを頭に入れた上でグラフをまったりと眺める必要があります。

1. 大きなgemが小さなgemに分割されている場合も考えられるため、アップデート数だけでなくgemの名前数の増加量も考慮する必要がある。
2. .gemspecの内容の正当性はgemの作者に任されているので日付などは不正確な場合がある。（実際には有り得ない日付の.gemspecもありました。そういうのはGnuplotの`set xrange`で落としてあります。）

自分は不勉強なので良くわからないのですが、ソフトウェア部品の新陳代謝具合を表す式とか無いのですかね。

あと、参考までにグラフのプロットデータを出力するスクリプトを掲載します。元データはRubyGems.orgにある全ての.gemspecです。ちなみに、全ての.gemspecをダウンロードすると1.4 GiBくらいになります。ダウンロードするスクリプトは公開すると迷惑がかかりそうなので公開しません。必要な方が居られましたら、圧縮ファイルなどをSkyDriveなどにアップロードすることはできます。（いないでしょうが ;）

{% gist 7629632 gemspecs_to_tsv_of_date_vs_all_versions.rb %}